var TurbulenzBridge=function(){function TurbulenzBridge(){}TurbulenzBridge._bridge=undefined;TurbulenzBridge._initInstance=function _initInstance(){var Turbulenz=window.top.Turbulenz;if(Turbulenz&&Turbulenz.Services){var bridge=Turbulenz.Services.bridge;if(!bridge){return}this._bridge=bridge;this.emit=bridge.emit;this.on=bridge.gameListenerOn||bridge.addListener||bridge.setListener;this.addListener=bridge.gameListenerOn||bridge.addListener||bridge.setListener;this.setListener=bridge.gameListenerOn||bridge.setListener}else{debug.log("No turbulenz services")}if(typeof TurbulenzServices!=="undefined"){TurbulenzServices.addBridgeEvents()}};TurbulenzBridge.isInitialised=function isInitialised(){return this._bridge!==undefined};TurbulenzBridge.emit=function emit(serviceName,request){};TurbulenzBridge.on=function on(serviceName,cb){};TurbulenzBridge.addListener=function addListener(){};TurbulenzBridge.setListener=function setListener(eventName,listener){};TurbulenzBridge.setOnReceiveConfig=function setOnReceiveConfig(callback){this.on("config.set",callback)};TurbulenzBridge.triggerRequestConfig=function triggerRequestConfig(){this.emit("config.request")};TurbulenzBridge.startLoading=function startLoading(){this.emit("status.loading.start")};TurbulenzBridge.startSaving=function startSaving(){this.emit("status.saving.start")};TurbulenzBridge.stopLoading=function stopLoading(){this.emit("status.loading.stop")};TurbulenzBridge.stopSaving=function stopSaving(){this.emit("status.saving.stop")};TurbulenzBridge.createdGameSession=function createdGameSession(gameSessionId){this.emit("game.session.created",gameSessionId)};TurbulenzBridge.destroyedGameSession=function destroyedGameSession(gameSessionId){this.emit("game.session.destroyed",gameSessionId)};TurbulenzBridge.setGameSessionStatus=function setGameSessionStatus(gameSessionId,status){this.emit("game.session.status",gameSessionId,status)};TurbulenzBridge.setGameSessionInfo=function setGameSessionInfo(info){this.emit("game.session.info",info)};TurbulenzBridge.updateUserBadge=function updateUserBadge(badge){this.emit("userbadge.update",badge)};TurbulenzBridge.updateLeaderBoard=function updateLeaderBoard(scoreData){this.emit("leaderboards.update",scoreData)};TurbulenzBridge.setOnMultiplayerSessionToJoin=function setOnMultiplayerSessionToJoin(callback){this.on("multiplayer.session.join",callback)};TurbulenzBridge.triggerJoinedMultiplayerSession=function triggerJoinedMultiplayerSession(session){this.emit("multiplayer.session.joined",session)};TurbulenzBridge.triggerLeaveMultiplayerSession=function triggerLeaveMultiplayerSession(sessionId){this.emit("multiplayer.session.leave",sessionId)};TurbulenzBridge.triggerMultiplayerSessionMakePublic=function triggerMultiplayerSessionMakePublic(sessionId){this.emit("multiplayer.session.makepublic",sessionId)};TurbulenzBridge.setOnBasketUpdate=function setOnBasketUpdate(callback){this.on("basket.site.update",callback)};TurbulenzBridge.triggerBasketUpdate=function triggerBasketUpdate(basket){this.emit("basket.game.update.v2",basket)};TurbulenzBridge.triggerUserStoreUpdate=function triggerUserStoreUpdate(items){this.emit("store.user.update",items)};TurbulenzBridge.setOnPurchaseConfirmed=function setOnPurchaseConfirmed(callback){this.on("purchase.confirmed",callback)};TurbulenzBridge.setOnPurchaseRejected=function setOnPurchaseRejected(callback){this.on("purchase.rejected",callback)};TurbulenzBridge.triggerShowConfirmPurchase=function triggerShowConfirmPurchase(){this.emit("purchase.show.confirm")};TurbulenzBridge.triggerFetchStoreMeta=function triggerFetchStoreMeta(){this.emit("fetch.store.meta")};TurbulenzBridge.setOnStoreMeta=function setOnStoreMeta(callback){this.on("store.meta.v2",callback)};TurbulenzBridge.changeAspectRatio=function changeAspectRatio(ratio){this.emit("change.viewport.ratio",ratio)};TurbulenzBridge.setOnViewportHide=function setOnViewportHide(callback){this.on("change.viewport.hide",callback)};TurbulenzBridge.setOnViewportShow=function setOnViewportShow(callback){this.on("change.viewport.show",callback)};TurbulenzBridge.setOnFullscreenOn=function setOnFullscreenOn(callback){this.on("change.viewport.fullscreen.on",callback)};TurbulenzBridge.setOnFullscreenOff=function setOnFullscreenOff(callback){this.on("change.viewport.fullscreen.off",callback)};TurbulenzBridge.setOnMenuStateChange=function setOnMenuStateChange(callback){this.on("change.menu.state",callback)};TurbulenzBridge.setOnUserStateChange=function setOnUserStateChange(callback){this.on("change.user.state",callback)};TurbulenzBridge.triggerOnFullscreen=function triggerOnFullscreen(){this.emit("trigger.viewport.fullscreen")};TurbulenzBridge.triggerOnViewportVisibility=function triggerOnViewportVisibility(){this.emit("trigger.viewport.visibility")};TurbulenzBridge.triggerOnMenuStateChange=function triggerOnMenuStateChange(){this.emit("trigger.menu.state")};TurbulenzBridge.triggerOnUserStateChange=function triggerOnUserStateChange(){this.emit("trigger.user.state")};TurbulenzBridge.queryFullscreen=function queryFullscreen(callback){this.emit("query.viewport.fullscreen",callback)};TurbulenzBridge.queryViewportVisibility=function queryViewportVisibility(callback){this.emit("query.viewport.visibility",callback)};TurbulenzBridge.queryMenuState=function queryMenuState(callback){this.emit("query.menu.state",callback)};TurbulenzBridge.queryUserState=function queryUserState(callback){this.emit("query.user.state",callback)};return TurbulenzBridge}();if(!TurbulenzBridge.isInitialised()){TurbulenzBridge._initInstance()}